<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Management for TEDDINET | Frictionless Data</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
    <link rel="mask-icon" color="#000000" href="/img/safari-pinned-tab.svg">
    <link rel="manifest" href="/img/site.webmanifest">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900&amp;display=swap">
    <link rel="stylesheet" href="/fonts/index.css">
    <script src="https://plausible.io/js/script.js" data-domain="frictionlessdata.io"></script>
    <script src="https://unpkg.com/honeycomb-grid@3.1.3"></script>
    <script src="https://unpkg.com/svg.js@2.7.1"></script>
    <link rel="alternate" type="application/rss+xml" href="https://frictionlessdata.io/rss.xml" title="Frictionless Data RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://frictionlessdata.io/feed.atom" title="Frictionless Data Atom Feed">
    <link rel="alternate" type="application/json" href="https://frictionlessdata.io/feed.json" title="Frictionless Data JSON Feed">
    <meta name="description" content="Frictionless Data specifications for data legacy">
    <meta property="og:image" content="/img/blog/dm4t.png">
    <meta property="og:image:type">
    <meta property="og:image:width">
    <meta property="og:image:height">
    <meta property="og:image:alt">
    <meta name="twitter:image" content="/img/blog/dm4t.png">
    <meta itemprop="image" content="/img/blog/dm4t.png">
    <meta property="og:description" content="Frictionless Data specifications for data legacy">
    <meta name="twitter:description" content="Frictionless Data specifications for data legacy">
    <meta itemprop="description" content="Frictionless Data specifications for data legacy">
    <meta property="og:url" content="/blog/2017-12-19-dm4t/">
    <meta name="twitter:url" content="/blog/2017-12-19-dm4t/">
    <meta property="og:title" content="Data Management for TEDDINET">
    <meta name="twitter:title" content="Data Management for TEDDINET">
    <meta itemprop="name" content="Data Management for TEDDINET">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary">
    <meta property="og:site_name" content="Frictionless Data">
    <link rel="preload" href="/assets/css/0.styles.82f86bd4.css" as="style"><link rel="preload" href="/assets/js/app.74f53939.js" as="script"><link rel="preload" href="/assets/js/3.f382f669.js" as="script"><link rel="preload" href="/assets/js/2.15425db4.js" as="script"><link rel="preload" href="/assets/js/49.469bfb8b.js" as="script"><link rel="prefetch" href="/assets/js/10.f7c1e786.js"><link rel="prefetch" href="/assets/js/100.b75e047c.js"><link rel="prefetch" href="/assets/js/101.4e8deb2e.js"><link rel="prefetch" href="/assets/js/102.0e0446fa.js"><link rel="prefetch" href="/assets/js/103.3bcdbc40.js"><link rel="prefetch" href="/assets/js/104.fe7e63b7.js"><link rel="prefetch" href="/assets/js/105.80399967.js"><link rel="prefetch" href="/assets/js/106.71490774.js"><link rel="prefetch" href="/assets/js/107.614f6bd7.js"><link rel="prefetch" href="/assets/js/108.8c0974df.js"><link rel="prefetch" href="/assets/js/109.73c03972.js"><link rel="prefetch" href="/assets/js/11.cfbbc0e4.js"><link rel="prefetch" href="/assets/js/110.57ecfd91.js"><link rel="prefetch" href="/assets/js/111.4283f401.js"><link rel="prefetch" href="/assets/js/112.d1d4b6fc.js"><link rel="prefetch" href="/assets/js/113.2e34c2f6.js"><link rel="prefetch" href="/assets/js/114.78ae2f39.js"><link rel="prefetch" href="/assets/js/115.24c7eaf7.js"><link rel="prefetch" href="/assets/js/116.0d0fad1f.js"><link rel="prefetch" href="/assets/js/117.72acabd5.js"><link rel="prefetch" href="/assets/js/118.dfd2fa17.js"><link rel="prefetch" href="/assets/js/119.4464f1f2.js"><link rel="prefetch" href="/assets/js/12.d9fb47fc.js"><link rel="prefetch" href="/assets/js/120.f7739b96.js"><link rel="prefetch" href="/assets/js/121.1bb95626.js"><link rel="prefetch" href="/assets/js/122.a52b442f.js"><link rel="prefetch" href="/assets/js/123.552715f8.js"><link rel="prefetch" href="/assets/js/124.6ad45b64.js"><link rel="prefetch" href="/assets/js/125.ac9d6293.js"><link rel="prefetch" href="/assets/js/126.88c9378d.js"><link rel="prefetch" href="/assets/js/127.574341a4.js"><link rel="prefetch" href="/assets/js/128.8b277324.js"><link rel="prefetch" href="/assets/js/129.b87476ad.js"><link rel="prefetch" href="/assets/js/13.d6483d82.js"><link rel="prefetch" href="/assets/js/130.1488bd94.js"><link rel="prefetch" href="/assets/js/131.1373b305.js"><link rel="prefetch" href="/assets/js/132.de22cc97.js"><link rel="prefetch" href="/assets/js/133.e77f594f.js"><link rel="prefetch" href="/assets/js/134.f2523058.js"><link rel="prefetch" href="/assets/js/135.e1d47550.js"><link rel="prefetch" href="/assets/js/136.4d1fafd7.js"><link rel="prefetch" href="/assets/js/137.36d45931.js"><link rel="prefetch" href="/assets/js/138.850d2795.js"><link rel="prefetch" href="/assets/js/139.703a6fba.js"><link rel="prefetch" href="/assets/js/14.b66cad77.js"><link rel="prefetch" href="/assets/js/140.470e6b1a.js"><link rel="prefetch" href="/assets/js/141.b4624c5c.js"><link rel="prefetch" href="/assets/js/142.117144dd.js"><link rel="prefetch" href="/assets/js/143.8f069550.js"><link rel="prefetch" href="/assets/js/144.290ed437.js"><link rel="prefetch" href="/assets/js/145.db979748.js"><link rel="prefetch" href="/assets/js/146.6e7c9a8b.js"><link rel="prefetch" href="/assets/js/147.e57196d8.js"><link rel="prefetch" href="/assets/js/148.e091719e.js"><link rel="prefetch" href="/assets/js/149.c4372c8f.js"><link rel="prefetch" href="/assets/js/15.10b9d46b.js"><link rel="prefetch" href="/assets/js/150.d8afa583.js"><link rel="prefetch" href="/assets/js/151.99fc6a01.js"><link rel="prefetch" href="/assets/js/152.f2ecd916.js"><link rel="prefetch" href="/assets/js/153.53c6673a.js"><link rel="prefetch" href="/assets/js/154.501afeeb.js"><link rel="prefetch" href="/assets/js/155.f236890f.js"><link rel="prefetch" href="/assets/js/156.5c3dc938.js"><link rel="prefetch" href="/assets/js/157.d3eac80a.js"><link rel="prefetch" href="/assets/js/158.b6b82fb4.js"><link rel="prefetch" href="/assets/js/159.03fb7e94.js"><link rel="prefetch" href="/assets/js/16.ed5807b6.js"><link rel="prefetch" href="/assets/js/160.2fcf45e2.js"><link rel="prefetch" href="/assets/js/161.0c948627.js"><link rel="prefetch" href="/assets/js/162.fdac6abf.js"><link rel="prefetch" href="/assets/js/163.9cdaa5d1.js"><link rel="prefetch" href="/assets/js/164.a5e79699.js"><link rel="prefetch" href="/assets/js/165.94d8c026.js"><link rel="prefetch" href="/assets/js/166.47347e73.js"><link rel="prefetch" href="/assets/js/167.6a39b6c8.js"><link rel="prefetch" href="/assets/js/168.3656c9c1.js"><link rel="prefetch" href="/assets/js/169.4cd6dd92.js"><link rel="prefetch" href="/assets/js/17.4ba1c84a.js"><link rel="prefetch" href="/assets/js/170.01e405fc.js"><link rel="prefetch" href="/assets/js/171.462451b4.js"><link rel="prefetch" href="/assets/js/172.30c2284b.js"><link rel="prefetch" href="/assets/js/173.560957ed.js"><link rel="prefetch" href="/assets/js/174.3966497a.js"><link rel="prefetch" href="/assets/js/175.33e4d10e.js"><link rel="prefetch" href="/assets/js/176.74021178.js"><link rel="prefetch" href="/assets/js/177.584bad6b.js"><link rel="prefetch" href="/assets/js/178.33e1a095.js"><link rel="prefetch" href="/assets/js/179.de31f7ce.js"><link rel="prefetch" href="/assets/js/18.d28fc2eb.js"><link rel="prefetch" href="/assets/js/180.6275d8bc.js"><link rel="prefetch" href="/assets/js/181.59a49dd2.js"><link rel="prefetch" href="/assets/js/182.9e260667.js"><link rel="prefetch" href="/assets/js/183.3250e82b.js"><link rel="prefetch" href="/assets/js/184.3d950b5b.js"><link rel="prefetch" href="/assets/js/185.e5c4d3b0.js"><link rel="prefetch" href="/assets/js/186.8336fb20.js"><link rel="prefetch" href="/assets/js/187.876491a8.js"><link rel="prefetch" href="/assets/js/188.3d944964.js"><link rel="prefetch" href="/assets/js/189.1e377f8d.js"><link rel="prefetch" href="/assets/js/19.7e84e393.js"><link rel="prefetch" href="/assets/js/190.0a697834.js"><link rel="prefetch" href="/assets/js/191.53e42e39.js"><link rel="prefetch" href="/assets/js/192.51e1bb8f.js"><link rel="prefetch" href="/assets/js/20.17619cf5.js"><link rel="prefetch" href="/assets/js/21.8a924163.js"><link rel="prefetch" href="/assets/js/22.2c8e874b.js"><link rel="prefetch" href="/assets/js/23.25e2b90e.js"><link rel="prefetch" href="/assets/js/24.c46f7101.js"><link rel="prefetch" href="/assets/js/25.d1e61993.js"><link rel="prefetch" href="/assets/js/26.5c9dfc62.js"><link rel="prefetch" href="/assets/js/27.49f94834.js"><link rel="prefetch" href="/assets/js/28.0b998858.js"><link rel="prefetch" href="/assets/js/29.23700df7.js"><link rel="prefetch" href="/assets/js/30.37372b0a.js"><link rel="prefetch" href="/assets/js/31.1461b66d.js"><link rel="prefetch" href="/assets/js/32.f44acdea.js"><link rel="prefetch" href="/assets/js/33.72bf6e52.js"><link rel="prefetch" href="/assets/js/34.7fe9cce9.js"><link rel="prefetch" href="/assets/js/35.8381e3cb.js"><link rel="prefetch" href="/assets/js/36.d919cdcb.js"><link rel="prefetch" href="/assets/js/37.f28f2173.js"><link rel="prefetch" href="/assets/js/38.860bf20a.js"><link rel="prefetch" href="/assets/js/39.4fc64019.js"><link rel="prefetch" href="/assets/js/4.86253916.js"><link rel="prefetch" href="/assets/js/40.d6f049ee.js"><link rel="prefetch" href="/assets/js/41.449ddef6.js"><link rel="prefetch" href="/assets/js/42.273afb6e.js"><link rel="prefetch" href="/assets/js/43.f5b83848.js"><link rel="prefetch" href="/assets/js/44.7e6af297.js"><link rel="prefetch" href="/assets/js/45.18c8dc64.js"><link rel="prefetch" href="/assets/js/46.b7a06152.js"><link rel="prefetch" href="/assets/js/47.7ce0d603.js"><link rel="prefetch" href="/assets/js/48.8ca4767a.js"><link rel="prefetch" href="/assets/js/5.7bd12aaf.js"><link rel="prefetch" href="/assets/js/50.db9ab2c9.js"><link rel="prefetch" href="/assets/js/51.3114c7b9.js"><link rel="prefetch" href="/assets/js/52.ef3ab42a.js"><link rel="prefetch" href="/assets/js/53.202bb7e3.js"><link rel="prefetch" href="/assets/js/54.8c3b034e.js"><link rel="prefetch" href="/assets/js/55.e67c7da2.js"><link rel="prefetch" href="/assets/js/56.65e1e767.js"><link rel="prefetch" href="/assets/js/57.84990213.js"><link rel="prefetch" href="/assets/js/58.389b1eba.js"><link rel="prefetch" href="/assets/js/59.138b6560.js"><link rel="prefetch" href="/assets/js/6.c19d05ab.js"><link rel="prefetch" href="/assets/js/60.385842bd.js"><link rel="prefetch" href="/assets/js/61.28801f31.js"><link rel="prefetch" href="/assets/js/62.fce6cd54.js"><link rel="prefetch" href="/assets/js/63.a8712733.js"><link rel="prefetch" href="/assets/js/64.c108e977.js"><link rel="prefetch" href="/assets/js/65.071f1fe3.js"><link rel="prefetch" href="/assets/js/66.291b99fd.js"><link rel="prefetch" href="/assets/js/67.c668ed43.js"><link rel="prefetch" href="/assets/js/68.4cf46b70.js"><link rel="prefetch" href="/assets/js/69.9af9f3cd.js"><link rel="prefetch" href="/assets/js/7.0a77407a.js"><link rel="prefetch" href="/assets/js/70.4383c25b.js"><link rel="prefetch" href="/assets/js/71.f26f9397.js"><link rel="prefetch" href="/assets/js/72.d1ac7625.js"><link rel="prefetch" href="/assets/js/73.b842f97b.js"><link rel="prefetch" href="/assets/js/74.cefa15a9.js"><link rel="prefetch" href="/assets/js/75.ec5d7d14.js"><link rel="prefetch" href="/assets/js/76.8fa5c677.js"><link rel="prefetch" href="/assets/js/77.6a6fc44c.js"><link rel="prefetch" href="/assets/js/78.cb9a2564.js"><link rel="prefetch" href="/assets/js/79.01904507.js"><link rel="prefetch" href="/assets/js/8.4d18202d.js"><link rel="prefetch" href="/assets/js/80.b4a05a86.js"><link rel="prefetch" href="/assets/js/81.119cea57.js"><link rel="prefetch" href="/assets/js/82.2f296314.js"><link rel="prefetch" href="/assets/js/83.a8768035.js"><link rel="prefetch" href="/assets/js/84.298b8538.js"><link rel="prefetch" href="/assets/js/85.b4892b6b.js"><link rel="prefetch" href="/assets/js/86.8b13068a.js"><link rel="prefetch" href="/assets/js/87.69707213.js"><link rel="prefetch" href="/assets/js/88.993fe8bc.js"><link rel="prefetch" href="/assets/js/89.e52e45f9.js"><link rel="prefetch" href="/assets/js/9.b5468429.js"><link rel="prefetch" href="/assets/js/90.9fdb036a.js"><link rel="prefetch" href="/assets/js/91.260e264e.js"><link rel="prefetch" href="/assets/js/92.3a018b08.js"><link rel="prefetch" href="/assets/js/93.73197f75.js"><link rel="prefetch" href="/assets/js/94.0f020cbe.js"><link rel="prefetch" href="/assets/js/95.b903e22a.js"><link rel="prefetch" href="/assets/js/96.69003c07.js"><link rel="prefetch" href="/assets/js/97.38257cb2.js"><link rel="prefetch" href="/assets/js/98.0f35312c.js"><link rel="prefetch" href="/assets/js/99.9dcdd909.js">
    <link rel="stylesheet" href="/assets/css/0.styles.82f86bd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="banner w-full bg-yellow"><div class="theme-container Post"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/frictionless-full-logo-blackfont.svg" alt="Frictionless Data" class="logo"> <span class="site-name can-hide">Frictionless Data</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Introduction
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/universe/" class="nav-link">
  Universe
</a></div><div class="nav-item"><a href="/adoption/" class="nav-link">
  Adoption
</a></div><div class="nav-item"><a href="/people/" class="nav-link">
  People
</a></div><div class="nav-item"><a href="https://fellows.frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fellows
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Development Menu" class="dropdown-title"><span class="title">Development</span> <span class="arrow down"></span></button> <button type="button" aria-label="Development Menu" class="mobile-dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/development/architecture/" class="nav-link">
  Architecture
</a></li><li class="dropdown-item"><!----> <a href="/development/roadmap/" class="nav-link">
  Roadmap
</a></li><li class="dropdown-item"><!----> <a href="/development/process/" class="nav-link">
  Process
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Work With Us Menu" class="dropdown-title"><span class="title">Work With Us</span> <span class="arrow down"></span></button> <button type="button" aria-label="Work With Us Menu" class="mobile-dropdown-title"><span class="title">Work With Us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/work-with-us/get-help/" class="nav-link">
  Get Help
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/contribute/" class="nav-link">
  Contribute
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/code-of-conduct/" class="nav-link">
  Code of Conduct
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/events/" class="nav-link">
  Events Calendar
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/frictionlessdata/project/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/frictionlessdata/shared_invite/zt-17kpbffnm-tRfDW_wJgOw8tJVLvZTrBg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat (Slack)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://matrix.to/#/#frictionlessdata:matrix.okfn.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat (Matrix)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div> <!----></nav> <div class="search-box md:pl-4"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="https://matrix.to/#/#frictionlessdata:matrix.okfn.org" title="Matrix" target="blank" class="navbaricon"><img src="/img/home/matrix.svg" class="px-2 w-5 pt-4"></a> <a href="https://join.slack.com/t/frictionlessdata/shared_invite/zt-17kpbffnm-tRfDW_wJgOw8tJVLvZTrBg" title="Slack" target="blank" class="navbaricon"><img src="/img/home/slack-icon.png" class="px-2 w-5 pt-4"></a> <a href="https://twitter.com/frictionlessd8a" title="Twitter" target="blank" class="navbaricon"><img src="/img/home/twitter-icon.svg" class="px-2 w-5 pt-4"></a> <a href="https://github.com/frictionlessdata" title="GitHub" target="blank" class="navbaricon"><img src="/img/home/github-icon.svg" class="px-2 w-5 pt-4"></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Introduction
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/universe/" class="nav-link">
  Universe
</a></div><div class="nav-item"><a href="/adoption/" class="nav-link">
  Adoption
</a></div><div class="nav-item"><a href="/people/" class="nav-link">
  People
</a></div><div class="nav-item"><a href="https://fellows.frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fellows
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Development Menu" class="dropdown-title"><span class="title">Development</span> <span class="arrow down"></span></button> <button type="button" aria-label="Development Menu" class="mobile-dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/development/architecture/" class="nav-link">
  Architecture
</a></li><li class="dropdown-item"><!----> <a href="/development/roadmap/" class="nav-link">
  Roadmap
</a></li><li class="dropdown-item"><!----> <a href="/development/process/" class="nav-link">
  Process
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Work With Us Menu" class="dropdown-title"><span class="title">Work With Us</span> <span class="arrow down"></span></button> <button type="button" aria-label="Work With Us Menu" class="mobile-dropdown-title"><span class="title">Work With Us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/work-with-us/get-help/" class="nav-link">
  Get Help
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/contribute/" class="nav-link">
  Contribute
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/code-of-conduct/" class="nav-link">
  Code of Conduct
</a></li><li class="dropdown-item"><!----> <a href="/work-with-us/events/" class="nav-link">
  Events Calendar
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/frictionlessdata/project/discussions" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/frictionlessdata/shared_invite/zt-17kpbffnm-tRfDW_wJgOw8tJVLvZTrBg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat (Slack)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://matrix.to/#/#frictionlessdata:matrix.okfn.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat (Matrix)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Management for TEDDINET</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2017/12/19/dm4t/#pilot-name" class="sidebar-link">Pilot Name</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/2017/12/19/dm4t/#authors" class="sidebar-link">Authors</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/2017/12/19/dm4t/#field" class="sidebar-link">Field</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/2017/12/19/dm4t/#fd-tech-involved" class="sidebar-link">FD Tech Involved</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/2017/12/19/dm4t/#context" class="sidebar-link">Context</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#problem-we-were-trying-to-solve" class="sidebar-link">Problem We Were Trying To Solve</a></li></ul></li><li><a href="/blog/2017/12/19/dm4t/#the-work" class="sidebar-link">The work</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#refit-electrical-load-measurements-cleaned" class="sidebar-link">REFIT: Electrical Load Measurements (Cleaned)</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#creating-a-data-package-using-datapackage-pipelines" class="sidebar-link">Creating a data package using Datapackage Pipelines</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#validating-a-data-package-using-goodtables" class="sidebar-link">Validating a data package using Goodtables</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#modifying-a-data-package-using-packagist" class="sidebar-link">Modifying a data package using Packagist</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#publishing-a-data-package-to-amazon-s3" class="sidebar-link">Publishing a data package to Amazon S3</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#getting-insight-from-data-using-python-libraries" class="sidebar-link">Getting insight from data using Python libraries</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#exporting-data-to-an-elasticsearch-cluster" class="sidebar-link">Exporting data to an ElasticSearch cluster</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#getting-insight-from-data-using-kibana" class="sidebar-link">Getting insight from data using Kibana</a></li></ul></li><li><a href="/blog/2017/12/19/dm4t/#review" class="sidebar-link">Review</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#the-results" class="sidebar-link">The results</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#current-limitations" class="sidebar-link">Current limitations</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#next-steps" class="sidebar-link">Next Steps</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#find-out-more" class="sidebar-link">Find Out More</a></li><li class="sidebar-sub-header"><a href="/blog/2017/12/19/dm4t/#source-material" class="sidebar-link">Source Material</a></li></ul></li></ul></section></li></ul> </aside> <main aria-labelledby="main-title" class="page"><div class="theme-default-content"><header><h1 style="margin-top: -8px">Data Management for TEDDINET</h1> <!----> <time class="italic"> December 19, 2017 by Julian Padget (DM4T), Dan Fowler (OKI), Evgeny Kariv (OKI), Paul Walsh (OKI), Jo Barratt (OKI) </time> <div class="pt-4 text-blue-500 pb-6"><img src="/img/tag.png" alt="Price icons created by Pixel perfect - Flaticon" class="w-4 h-4 inline text-lg"> <a href="/tag/pilot/" class="pl-2">
    pilot
  </a></div></header> <div class="content__default"><h1 id="dm4t-pilot"><a href="#dm4t-pilot" class="header-anchor">#</a> DM4T Pilot</h1> <h2 id="pilot-name"><a href="#pilot-name" class="header-anchor">#</a> Pilot Name</h2> <p>Data Management for TEDDINET (DM4T)</p> <h2 id="authors"><a href="#authors" class="header-anchor">#</a> Authors</h2> <p>Julian Padget (DM4T), Dan Fowler (OKI), Evgeny Karev (OKI)</p> <h2 id="field"><a href="#field" class="header-anchor">#</a> Field</h2> <p>Energy Data</p> <h2 id="fd-tech-involved"><a href="#fd-tech-involved" class="header-anchor">#</a> FD Tech Involved</h2> <ul><li>Frictionless Data specs: <a href="http://specs.frictionlessdata.io/" target="_blank" rel="noopener noreferrer">http://specs.frictionlessdata.io/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Data Package Pipelines: <a href="https://github.com/frictionlessdata/datapackage-pipelines" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/datapackage-pipelines<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Goodtables: <a href="https://github.com/frictionlessdata/goodtables-py" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/goodtables-py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><code>packagist</code> has now moved to <a href="http://create.frictionlessdata.io" target="_blank" rel="noopener noreferrer">create.frictionlessdata.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="context"><a href="#context" class="header-anchor">#</a> Context</h2> <h3 id="problem-we-were-trying-to-solve"><a href="#problem-we-were-trying-to-solve" class="header-anchor">#</a> Problem We Were Trying To Solve</h3> <p>Open Knowledge International and the Data Management for TEDDINET project (DM4T) agreed to work together on a proof-of-concept pilot to attempt to use Frictionless Data approaches to address some of the data legacy issues facing the TEDDINET project, a research network addressing the challenges of transforming energy demand in our buildings, as a key component of the transition to an affordable, low carbon energy system. The problem as described on the DM4T Website:</p> <blockquote><p>The Engineering and Physical Sciences Research Council (EPSRC), the UK’s main agency for funding research in engineering and the physical sciences, funded 22 projects over two calls in 2010 and 2012 to investigate Transforming Energy Demand through Digital Innovation’ (TEDDI) as a means to find out how people use energy in homes and what can be done reduce energy consumption. A lot of data is being collected at different levels of detail in a variety of housing throughout the UK, but the level of detail are largely defined by the needs of each individual project. At the same time, the Research Councils UK (RCUK) are defining guidelines for what happens to data generated by projects they fund which require researchers to take concrete actions to store, preserve, and document their data for future reference.</p></blockquote> <blockquote><p>The problem, however, is that there is relatively little awareness, limited experience and only emerging practice of how to incorporate data management into much of physical science research. This is in contrast to established procedures for data formats and sharing in the biosciences, stemming from international collaboration on the Human Genome Project, and in the social sciences, where data from national surveys, including census data, have been centrally archived for many years. Consequently, current solutions may be able to meet a minimal interpretation of the requirements, but not effectively deliver the desired data legacy.</p></blockquote> <p>The DM4T group selected three suitable datasets to on which to base this work and provided domain knowledge to ensure the pilot is applicable to real use cases.</p> <p>Output was tracked here: <a href="https://github.com/frictionlessdata/pilot-dm4t/issues" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-dm4t/issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="the-work"><a href="#the-work" class="header-anchor">#</a> The work</h2> <p>We will use the <code>refit-cleaned</code> dataset to show the Frictionless Data specs and software capabilities. For this work, we limited the size of this dataset in order to preserve a reasonable showcasing time. However, by design the Frictionless Data software has a very good scalability and this process could be reproduced for the whole dataset. But for now it is worth noting that the speed for such a big datasets could be a bottle neck for a research work.</p> <h3 id="refit-electrical-load-measurements-cleaned"><a href="#refit-electrical-load-measurements-cleaned" class="header-anchor">#</a> REFIT: Electrical Load Measurements (Cleaned)</h3> <blockquote><p>Link to the dataset: <a href="https://github.com/frictionlessdata/pilot-dm4t/tree/delivery/datasets/refit-cleaned" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-dm4t/tree/delivery/datasets/refit-cleaned<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>For each house in the study, this dataset consists of granular readings of electrical load.  There were 20 houses in total, and each house had a different mix of devices plugged into the electrical load sensor.  The dataset was distributed as a zipped file (~500MB) containing 20 CSVs with a combined ~120 million rows.</p> <div class="language- extra-class"><pre class="language-text"><code>Time,Unix,Aggregate,Appliance1,Appliance2,Appliance3,Appliance4,Appliance5,Appliance6,Appliance7,Appliance8,Appliance9
2013-10-09 13:06:17,1381323977,523,74,0,69,0,0,0,0,0,1
2013-10-09 13:06:31,1381323991,526,75,0,69,0,0,0,0,0,1
2013-10-09 13:06:46,1381324006,540,74,0,68,0,0,0,0,0,1
2013-10-09 13:07:01,1381324021,532,74,0,68,0,0,0,0,0,1
2013-10-09 13:07:15,1381324035,540,74,0,69,0,0,0,0,0,1
2013-10-09 13:07:18,1381324038,539,74,0,69,0,0,0,0,0,1
2013-10-09 13:07:30,1381324050,537,74,0,69,0,0,0,0,0,1
2013-10-09 13:07:32,1381324052,537,74,0,69,0,0,0,0,0,1
2013-10-09 13:07:44,1381324064,548,74,0,69,0,0,0,0,0,1
</code></pre></div><p>Given that these datasets were already provided in well structured CSV files, it was straightforward to translate the data dictionary found in the dataset’s README into the relevant fields in the datapackage.json.  We did not need to alter the CSVs that comprise the dataset.</p> <h3 id="creating-a-data-package-using-datapackage-pipelines"><a href="#creating-a-data-package-using-datapackage-pipelines" class="header-anchor">#</a> Creating a data package using Datapackage Pipelines</h3> <blockquote><p>Link to the Datapackage Pipelines project: <a href="https://github.com/frictionlessdata/datapackage-pipelines" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/datapackage-pipelines<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>Datapackage Pipelines is a framework for declarative stream-processing of tabular data. It is built upon the concepts and tooling of the Frictionless Data project. The basic concept in this framework is the pipeline. A pipeline has a list of processing steps, and it generates a single data package as its output. Pipelines are defined in a declarative way, not in code. One or more pipelines can be defined in a <code>pipeline-spec.yaml</code> file. This file specifies the list of processors (referenced by name) and their execution parameters.</p> <p>One of the main purposes of the Frictionless Data project is data containerization. It means that instead of having two separated data knowledge sources (data files and text readme), we’re going to put both of them into a container based on the <code>Data Package</code> specification. This allows us to:</p> <ul><li>Ensure that the dataset description is shipped with the data files</li> <li>Provide column data type information to allow type validation</li> <li>Use the Frictionless Data tooling for reading and validating datasets</li> <li>Enable usage of other software which supports Frictionless Data specifications</li></ul> <p>First, we used the <code>datapackage-pipeline</code> library to create a data package from the raw dataset. We need a declarative file called <code>datapackage-pipelines.yaml</code> to describe data transformations steps:</p> <blockquote><p>datapackage-pipelines.yaml</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">refit-cleaned</span><span class="token punctuation">:</span>
  <span class="token key atrule">pipeline</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> add_metadata
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> refit<span class="token punctuation">-</span>electrical<span class="token punctuation">-</span>load<span class="token punctuation">-</span>measurements
        <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">'REFIT: Electrical Load Measurements'</span>
        <span class="token key atrule">license</span><span class="token punctuation">:</span> CC<span class="token punctuation">-</span>BY<span class="token punctuation">-</span><span class="token number">4.0</span>
        <span class="token key atrule">description</span><span class="token punctuation">:</span> Collection of this dataset was supported by the Engineering and Physical Sciences Research Council (EPSRC) via the project entitled Personalised Retrofit Decision Support Tools for UK Homes using Smart Home Technology (REFIT)<span class="token punctuation">,</span> which is a collaboration among the Universities of Strathclyde<span class="token punctuation">,</span> Loughborough and East Anglia. The dataset includes data from 20 households from the Loughborough area over the period 2013 <span class="token punctuation">-</span> 2015. Additional information about REFIT is available from www.refitsmarthomes.org.
        <span class="token key atrule">sources</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span>
            <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">'REFIT: Electrical Load Measurements (Cleaned)'</span>
            <span class="token key atrule">web</span><span class="token punctuation">:</span> <span class="token string">'https://pure.strath.ac.uk/portal/en/datasets/refit-electrical-load-measurements-cleaned(9ab14b0e-19ac-4279-938f-27f643078cec).html'</span>
            <span class="token key atrule">email</span><span class="token punctuation">:</span> researchdataproject@strath.ac.uk
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> add_resource
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">'house-1'</span>
        <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">'datasets/refit-cleaned/House_1.csv'</span>
        <span class="token key atrule">format</span><span class="token punctuation">:</span> csv
    <span class="token comment"># Other resources are omitted</span>
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> stream_remote_resources
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> set_types
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">resources</span><span class="token punctuation">:</span> <span class="token string">&quot;house-[0-9]{1,2}&quot;</span>
        <span class="token key atrule">types</span><span class="token punctuation">:</span>
          <span class="token key atrule">&quot;Time&quot;</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> datetime
            <span class="token key atrule">format</span><span class="token punctuation">:</span> <span class="token string">&quot;fmt:%Y-%m-%d %H:%M:%S&quot;</span>
          <span class="token key atrule">Unix</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
          <span class="token key atrule">Aggregate</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
          <span class="token key atrule">&quot;Appliance[1-9]&quot;</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> integer
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> processors.modify_descriptions
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">resources</span><span class="token punctuation">:</span> house<span class="token punctuation">-</span><span class="token number">1</span>
        <span class="token key atrule">descriptions</span><span class="token punctuation">:</span>
          <span class="token key atrule">Appliance1</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Fridge
          <span class="token key atrule">Appliance2</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Chest Freezer
          <span class="token key atrule">Appliance3</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Upright Freezer
          <span class="token key atrule">Appliance4</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Tumble Dryer
          <span class="token key atrule">Appliance5</span><span class="token punctuation">:</span>
            <span class="token key atrule">descripion</span><span class="token punctuation">:</span> Washing Machine
          <span class="token key atrule">Appliance6</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Dishwasher
          <span class="token key atrule">Appliance7</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Computer Site
          <span class="token key atrule">Appliance8</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Television Site
          <span class="token key atrule">Appliance9</span><span class="token punctuation">:</span>
            <span class="token key atrule">description</span><span class="token punctuation">:</span> Electric Heater
    <span class="token comment"># Other resources are omitted</span>
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> dump.to_path
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
          <span class="token key atrule">out-path</span><span class="token punctuation">:</span> packages/refit<span class="token punctuation">-</span>cleaned
</code></pre></div><p>The process follows contains these steps:</p> <ul><li>Create the data package metadata</li> <li>Add all data files from the disc</li> <li>Start resources streaming into the data package</li> <li>Update resources descriptions using a custom processor</li> <li>Save the data package to the disc</li></ul> <p>Now we’re ready to run this pipeline:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ dpp run ./refit-cleaned
</code></pre></div><p>After this step we have a data package containing a descriptor:</p> <blockquote><p>packages/refit-cleaned/datapakcage.json</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bytes&quot;</span><span class="token operator">:</span> <span class="token number">1121187</span><span class="token punctuation">,</span>
  <span class="token property">&quot;count_of_rows&quot;</span><span class="token operator">:</span> <span class="token number">19980</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Collection of this dataset was supported by the Engineering and Physical Sciences Research Council (EPSRC) via the project entitled Personalised Retrofit Decision Support Tools for UK Homes using Smart Home Technology (REFIT), which is a collaboration among the Universities of Strathclyde, Loughborough and East Anglia. The dataset includes data from 20 households from the Loughborough area over the period 2013 - 2015. Additional information about REFIT is available from www.refitsmarthomes.org.&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;433ff35135e0a43af6f00f04cb8e666d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CC-BY-4.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;refit-electrical-load-measurements&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;resources&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;bytes&quot;</span><span class="token operator">:</span> <span class="token number">55251</span><span class="token punctuation">,</span>
      <span class="token property">&quot;count_of_rows&quot;</span><span class="token operator">:</span> <span class="token number">999</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dialect&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;delimiter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;doubleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lineTerminator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\r\n&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quoteChar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;skipInitialSpace&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dpp:streamedFrom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;datasets/refit-cleaned/House_1.csv&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;dpp:streaming&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;encoding&quot;</span><span class="token operator">:</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;csv&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ad42fbf1302cabe30e217ff105d5a7fd&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;house-1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data/house-1.csv&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;schema&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Time&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;datetime&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Unix&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Aggregate&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Fridge&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Chest Freezer&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance2&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Upright Freezer&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance3&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tumble Dryer&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance4&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;descripion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Washing Machine&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance5&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Dishwasher&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance6&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Computer Site&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance7&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Television Site&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance8&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Electric Heater&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Appliance9&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    # Other resources is omitted
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And a list of data files linked in the descriptor:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">ls</span> packages/refit-cleaned/data
house-10.csv  house-13.csv  house-17.csv  house-1.csv   house-2.csv  house-5.csv  house-8.csv
house-11.csv  house-15.csv  house-18.csv  house-20.csv  house-3.csv  house-6.csv  house-9.csv
house-12.csv  house-16.csv  house-19.csv  house-21.csv  house-4.csv  house-7.csv
</code></pre></div><h3 id="validating-a-data-package-using-goodtables"><a href="#validating-a-data-package-using-goodtables" class="header-anchor">#</a> Validating a data package using Goodtables</h3> <p>Goodtables is a software family for tabular data validation. It’s available as a Python library, a command line tool, <a href="https://try.goodtables.io/" target="_blank" rel="noopener noreferrer">web application<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://goodtables.io/" target="_blank" rel="noopener noreferrer">continuous validation service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The main features of Goodtables are:</p> <ul><li>Structural checks: Ensure that there are no empty rows, no blank headers, etc.</li> <li>Content checks: Ensure that the values have the correct types (“string”, “number”, “date”, etc.), that their format is valid (“string must be an e-mail”), and that they respect the constraints (“age must be a number greater than 18”).</li> <li>Support for multiple tabular formats: CSV, Excel files, LibreOffice, Data Package, etc.</li> <li>Parallelized validations for multi-table datasets</li></ul> <p>Because we have provided data types for the columns at the wrapping stage, here we validate both the data structure and compliance to the data types using the Goodtables command line interface:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ goodtables packages/refit-cleaned/datapackage.json
DATASET
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token punctuation">{</span><span class="token string">'error-count'</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
 <span class="token string">'preset'</span><span class="token builtin class-name">:</span> <span class="token string">'datapackage'</span>,
 <span class="token string">'table-count'</span><span class="token builtin class-name">:</span> <span class="token number">20</span>,
 <span class="token string">'time'</span><span class="token builtin class-name">:</span> <span class="token number">4.694</span>,
 <span class="token string">'valid'</span><span class="token builtin class-name">:</span> True<span class="token punctuation">}</span>
</code></pre></div><h3 id="modifying-a-data-package-using-packagist"><a href="#modifying-a-data-package-using-packagist" class="header-anchor">#</a> Modifying a data package using Packagist</h3> <p>If we need to modify our data package, we could use the <a href="https://create.frictionlessdata.io/" target="_blank" rel="noopener noreferrer">Packagist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It incorporates a straightforward UI to modify and validate data package descriptors. With its easy to use interface we are able to:</p> <ul><li>Load/validate/save a data package</li> <li>Update a data package metadata</li> <li>Add/remove/modify data package resources</li> <li>Add/remove/modify data resource fields</li> <li>Set type/format for data values</li></ul> <p><img src="/assets/img/packagist.835e6f2c.png" alt="ADBio"></p> <p>On the figure above we have loaded the <code>refit-cleaned</code> data package into the Packagist UI to make changes to the data package as needed.</p> <h3 id="publishing-a-data-package-to-amazon-s3"><a href="#publishing-a-data-package-to-amazon-s3" class="header-anchor">#</a> Publishing a data package to Amazon S3</h3> <blockquote><p>Link to the published package: <a href="https://s3.eu-central-1.amazonaws.com/pilot-dm4t/pilot-dm4t/packages/refit-cleaned/datapackage.json" target="_blank" rel="noopener noreferrer">https://s3.eu-central-1.amazonaws.com/pilot-dm4t/pilot-dm4t/packages/refit-cleaned/datapackage.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>In this section we will show how  data packages can be moved from one data storage system to another. This is possible because it has been containerised.</p> <p>One important feature of the <code>datapackage-pipelines</code> project that it works as a conveyor. We could push our data package not only to the local disc but to other destinations. For example to the Amazon S3:</p> <blockquote><p>pipelines-spec.yml</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">refit-cleaned</span><span class="token punctuation">:</span>
    <span class="token comment"># Initial steps are omitted</span>
    <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> aws.dump.to_s3
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">bucket</span><span class="token punctuation">:</span> pilot<span class="token punctuation">-</span>dm4t
        <span class="token key atrule">path</span><span class="token punctuation">:</span> pilot<span class="token punctuation">-</span>dm4t/packages/refit<span class="token punctuation">-</span>cleaned
</code></pre></div><p>Running this command again:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ dpp run ./refit-cleaned
</code></pre></div><p>And now our data package is published to Amazon the S3 remote storage:</p> <p><img src="https://i.imgur.com/5Z7EPDR.pnghttps://" alt="screenshot of S3 storage"></p> <h3 id="getting-insight-from-data-using-python-libraries"><a href="#getting-insight-from-data-using-python-libraries" class="header-anchor">#</a> Getting insight from data using Python libraries</h3> <blockquote><p>Link to the demostration script: <a href="https://github.com/frictionlessdata/pilot-dm4t/blob/delivery/scripts/refit-cleaned.py" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-dm4t/blob/delivery/scripts/refit-cleaned.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>The Frictionless Data projects provides various Python (along with other 8 languages) libraries to work with data package programatically. We used the <code>datapackage</code> library to analyse the <code>refit-cleaned</code> data package:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> datetime
<span class="token keyword">import</span> statistics
<span class="token keyword">from</span> datapackage <span class="token keyword">import</span> Package
<span class="token comment"># Get aggregates</span>
consumption <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
package <span class="token operator">=</span> Package<span class="token punctuation">(</span><span class="token string">'packages/refit-cleaned/datapackage.json'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> resource <span class="token keyword">in</span> package<span class="token punctuation">.</span>resources<span class="token punctuation">:</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> resource<span class="token punctuation">.</span><span class="token builtin">iter</span><span class="token punctuation">(</span>keyed<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        hour <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">'Time'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hour
        consumption<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>hour<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        consumption<span class="token punctuation">[</span>hour<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'Aggregate'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># Get averages</span>
<span class="token keyword">for</span> hour <span class="token keyword">in</span> consumption<span class="token punctuation">:</span>
    consumption<span class="token punctuation">[</span>hour<span class="token punctuation">]</span> <span class="token operator">=</span> statistics<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>consumption<span class="token punctuation">[</span>hour<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># Print results</span>
<span class="token keyword">for</span> hour <span class="token keyword">in</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>consumption<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Average consumption at %02d hours: %.0f'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>hour<span class="token punctuation">,</span> consumption<span class="token punctuation">[</span>hour<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Now we could run it in the command line:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ python examles/refit-cleaned.py
Average consumption at 00 hours: <span class="token number">232</span>
Average consumption at 01 hours: <span class="token number">213</span>
Average consumption at 02 hours: <span class="token number">247</span>
Average consumption at 03 hours: <span class="token number">335</span>
Average consumption at 04 hours: <span class="token number">215</span>
Average consumption at 05 hours: <span class="token number">690</span>
Average consumption at 06 hours: <span class="token number">722</span>
Average consumption at 07 hours: <span class="token number">648</span>
Average consumption at 08 hours: <span class="token number">506</span>
Average consumption at 09 hours: <span class="token number">464</span>
Average consumption at <span class="token number">10</span> hours: <span class="token number">364</span>
Average consumption at <span class="token number">11</span> hours: <span class="token number">569</span>
Average consumption at <span class="token number">12</span> hours: <span class="token number">520</span>
Average consumption at <span class="token number">13</span> hours: <span class="token number">497</span>
Average consumption at <span class="token number">14</span> hours: <span class="token number">380</span>
Average consumption at <span class="token number">15</span> hours: <span class="token number">383</span>
Average consumption at <span class="token number">16</span> hours: <span class="token number">459</span>
Average consumption at <span class="token number">17</span> hours: <span class="token number">945</span>
Average consumption at <span class="token number">18</span> hours: <span class="token number">733</span>
Average consumption at <span class="token number">19</span> hours: <span class="token number">732</span>
Average consumption at <span class="token number">20</span> hours: <span class="token number">471</span>
Average consumption at <span class="token number">21</span> hours: <span class="token number">478</span>
Average consumption at <span class="token number">22</span> hours: <span class="token number">325</span>
Average consumption at <span class="token number">23</span> hours: <span class="token number">231</span>
</code></pre></div><p>Here we we’re able to get the averages for electricity consumption grouped by hour. We could have achieved this in different ways, but using the Frictionless Data specs and software provides some important advantages:</p> <ul><li>The fact that we have data wrapped into a data package has allowed us to validate and read the data already converted for its correct types (e.g native python <code>datetime</code> object). No need for any kind of string parsing.</li> <li>The Frictionless Data software uses file streams under the hood. This means that only the current row is kept in memory, so we’re able to handle datasets bigger than the available RAM memory.</li></ul> <h3 id="exporting-data-to-an-elasticsearch-cluster"><a href="#exporting-data-to-an-elasticsearch-cluster" class="header-anchor">#</a> Exporting data to an ElasticSearch cluster</h3> <blockquote><p>Link to the export script: <a href="https://github.com/frictionlessdata/pilot-dm4t/blob/delivery/scripts/refit-cleaned.py" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-dm4t/blob/delivery/scripts/refit-cleaned.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>The Frictionless Data software provides plugins to export data to various backends like SQL, BigQuery etc. We will export the first resource from our data package for future analysis:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> elasticsearch <span class="token keyword">import</span> Elasticsearch
<span class="token keyword">from</span> datapackage <span class="token keyword">import</span> Package
<span class="token keyword">from</span> tableschema_elasticsearch <span class="token keyword">import</span> Storage
<span class="token comment"># Get resource</span>
package <span class="token operator">=</span> Package<span class="token punctuation">(</span><span class="token string">'packages/refit-cleaned/datapackage.json'</span><span class="token punctuation">)</span>
resource <span class="token operator">=</span> package<span class="token punctuation">.</span>get_resource<span class="token punctuation">(</span><span class="token string">'house-1'</span><span class="token punctuation">)</span>
<span class="token comment"># Create storage</span>
engine <span class="token operator">=</span> Elasticsearch<span class="token punctuation">(</span><span class="token punctuation">)</span>
storage <span class="token operator">=</span> Storage<span class="token punctuation">(</span>engine<span class="token punctuation">)</span>
<span class="token comment"># Write data</span>
storage<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token string">'refit-cleaned'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'house-1'</span><span class="token punctuation">,</span> resource<span class="token punctuation">.</span>schema<span class="token punctuation">.</span>descriptor<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>storage<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'refit-cleaned'</span><span class="token punctuation">,</span> <span class="token string">'house-1'</span><span class="token punctuation">,</span> resource<span class="token punctuation">.</span>read<span class="token punctuation">(</span>keyed<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Unix'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Now we are able to check that our documents are indexed:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ http http://localhost:9200/_cat/indices?v
</code></pre></div><h3 id="getting-insight-from-data-using-kibana"><a href="#getting-insight-from-data-using-kibana" class="header-anchor">#</a> Getting insight from data using Kibana</h3> <p>To demonstrate how the Frictionless Data specs and software empower the usage of other analytics tools, we will use ElasticSearch/Kibana project. On the previous step we have imported our data package into an ElasticSearch cluster. It allows us to visualize data using a simple UI:</p> <p><img src="https://i.imgur.com/Fm373F4.png" alt="screenshot of elasticsearch cluster"></p> <p>In this screenshot we see the distribution of the average electricity comsumption. This is just an example of what you can do by having the ability to easily load datasets into other analytical software.</p> <h2 id="review"><a href="#review" class="header-anchor">#</a> Review</h2> <h3 id="the-results"><a href="#the-results" class="header-anchor">#</a> The results</h3> <p>In this pilot, we have been able to demonstrate the the following:</p> <ul><li>Packaging the <code>refit-cleaned</code> dataset as a data package using the Data Package Pipelines library</li> <li>Validating the data package using the Goodtables library</li> <li>Modifying data packages metadata using the Packagist UI</li> <li>Uploading the dataset to Amazon S3 and ElasticSearch cluster using Frictionless Data tools</li> <li>Reading and analysing in Python the created Data Package using the Frictionless Data library</li></ul> <h3 id="current-limitations"><a href="#current-limitations" class="header-anchor">#</a> Current limitations</h3> <p>The central challenge of working with these datasets is the size. Publishing the results of these research projects as flat files for immediate analysis is beneficial, however, the scale of each of these datasets (gigabytes of data, millions of rows) is a challenge to deal with no matter how you are storing. Processing this data through Data Package pipelines takes a long time.</p> <h3 id="next-steps"><a href="#next-steps" class="header-anchor">#</a> Next Steps</h3> <ul><li>Improve the speed of the data package creation step</li></ul> <h3 id="find-out-more"><a href="#find-out-more" class="header-anchor">#</a> Find Out More</h3> <ul><li><a href="https://github.com/frictionlessdata/pilot-pnnl" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-pnnl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="source-material"><a href="#source-material" class="header-anchor">#</a> Source Material</h3> <ul><li><a href="https://app.hubspot.com/sales/2281421/deal/146418008" target="_blank" rel="noopener noreferrer">https://app.hubspot.com/sales/2281421/deal/146418008<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://discuss.okfn.org/c/working-groups/open-archaeology" target="_blank" rel="noopener noreferrer">https://discuss.okfn.org/c/working-groups/open-archaeology<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/frictionlessdata/pilot-open-archaeology" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/pilot-open-archaeology<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="text-xl mt-10"><a href="/blog/">Blog Index</a></footer></div></main></div> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.74f53939.js" defer></script><script src="/assets/js/3.f382f669.js" defer></script><script src="/assets/js/2.15425db4.js" defer></script><script src="/assets/js/49.469bfb8b.js" defer></script>
  </body>
</html>
